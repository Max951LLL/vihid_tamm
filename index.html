<!doctype html>

<head>
    <meta charset="utf-8" />
    <title>Вихід там</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <header>
        <div class="wrap nav">
            <div class="brand">
                <div class="logo" aria-hidden> <img class="llogo" src="images/Logj.png"></div>
                <div>
                    <div style="font-weight:800">Вихід там</div>
                    <div class="small">музика • концерти • новини</div>
                </div>
            </div>

            <nav>
                <ul>
                    <li><a href="#" class="navlink active" data-route="home">Головна</a></li>
                    <li><a href="#" class="navlink" data-route="bio">Біографія</a></li>
                    <li><a href="#" class="navlink" data-route="albums">Альбоми</a></li>
                    <li><a href="#" class="navlink" data-route="contacts">Контакти</a></li>
                </ul>
            </nav>

            <div class="flex">
                <a href="#" class="btn" id="listenBtn">Слухати</a>
                <div class="mobile-nav" style="display:none">

                </div>
            </div>
        </div>
    </header>

<main class="wrap" id="app">
    <!-- ГЛАВНОЕЕЕЕЕЕ -->
    <section id="home" class="hero" role="region" aria-label="Головна сторінка">
        <div>
            <div class="card">
                <div class="video-wrap" aria-hidden>

                        <img src="images/concert.jpg" alt="Концерт">

                    <div class="overlay">
                        <div class="meta">
                            <span class="pill">Новий альбом • 2025</span>
                            <span class="pill">Панк-рок</span>
                        </div>
                        <h1 class="big-title">Вихід там</h1>
                        <p class="lead">Атмосферний панк-рок з українським корінням. Музика, яка гріє і піднімає.</p>
                        <div style="display:flex;gap:12px">
                            <a class="btn" href="#albums" data-route="albums">Слухати зараз</a>
                        </div>
                    </div>
                </div>

                <div style="display:flex;gap:16px;margin-top:14px;flex-wrap:wrap">
                    <div class="player" style="flex:1;min-width:260px">
                        <div style="display:flex;justify-content:space-between;align-items:center">
                            <strong>Міні-плеєр</strong>
                            <small class="small">Плейлист</small>
                        </div>

                        <ul class="playlist card mt" id="playlist">
                        </ul>

                        <audio id="audio" preload="metadata"></audio>
                        <div style="display:flex;gap:8px;align-items:center;margin-top:8px">
                            <button id="prevBtn" class="btn ghost" style="padding:8px 10px">Назад</button>
                            <button id="playBtn" class="btn" style="padding:8px 10px">Відтворити</button>
                            <button id="nextBtn" class="btn ghost" style="padding:8px 10px">Далі</button>
                            <div style="flex:1;text-align:right" class="small" id="trackInfo">Немає треку</div>
                        </div>
                    </div>

                    <div class="right" style="width:340px;min-width:220px">
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:center; height: 123px">
                                <div>
                                    <div class="small">Наступний концерт</div>
                                    <div class="count" id="countdown">завантаження...</div>
                                    <div class="small mt" id="nextConcertInfo">—</div>
                                </div>
                                <div style="text-align:right">
                                    <div class="small">Місто</div>
                                    <strong id="nextCity">Кременчук</strong>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>


    </section>

    <section id="bio" style="display:none" class="mt" aria-label="Біографія">
        <div class="card bio">
            <h2>Про гурт</h2>

            <div class="bio-block">
                <div class="bio-text">
                    <p class="lead">
                        Так, якщо ви не вірите у долю, лише біографією одного гурту, я зможу вас переконати.
                        Цей гурт має провокаційну назву "Вихід там", що вказує на дві сторони однієї монети:
                        на бунтівний характер учасників та на думку, що з кожної ситуації можна знайти вихід.
                    </p>
                    <p class="lead">
                        В цьому гурті є лише дві людини — Шевченко Ілля та Жолобенко Владислав.
                        Незважаючи на різні риси характеру, вони змогли зрозуміти один одного,
                        що тільки посилило написання пісень.
                    </p>
                </div>
                <div class="bio-img">
                    <a href="https://www.instagram.com/ilundiy?igsh=b2o5NnYxMTR3cnN6">
                        <img src="images/ilya.jpg" alt="Ілля — учасник гурту Вихід там">
                    </a>
                </div>
            </div>

            <div class="bio-block">
                <div class="bio-img">
                    <a href="https://www.instagram.com/klark2210?igsh=MTNucnBnNHFqZG5yeA==">
                        <img src="images/vlad.jpg" alt="Влад — учасник гурту Вихід там">
                    </a>
                </div>
                <div class="bio-text">
                    <p class="lead">
                        Початок розвитку гурту був задовго до його створення. У 2018 році у музичній школі Кременчука
                        зустрілися два юнака. Хоча тоді вони майже не спілкувалися, це стало відправною точкою.
                        Після карантину і війни вони втратили контакт, але знову зустрілися — і це стало другим шансом від долі.
                    </p>
                    <p class="lead">
                        Ще в старому гурті вони робили майже всю роботу самостійно, тому вирішили створити дует.
                        За наступні роки вони пройшли через дружбу, непорозуміння і відновлення стосунків —
                        усе це відображено у їхніх піснях.
                    </p>
                    <p class="lead">
                        За цей час вони написали десятки демо, а пісню <strong>"Лише ти"</strong> знали по всьому місту.
                        Після переїзду Іллі гурт тимчасово призупинив активність, але Влад продовжує творити —
                        тому "Вихід там" ще обов’язково повернеться.
                    </p>
                </div>
            </div>
    </section>



    <!-- Альбоми -->
    <section id="albums" style="display:none" class="mt" aria-label="Альбоми">
        <div class="card">
            <h2>Альбоми</h2>
            <p class="small">Список альбомів</p>

            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:14px;margin-top:12px">

                <!-- Альбом 1 -->
                <div class="card">
                    <a href="https://open.spotify.com/track/5KyYJkbF4I9u5vF5H92VQW?si=a9d66803ab4047c2" style="text-decoration:none; color:inherit;">
                        <img src="images/лише ти.jpg"
                             alt="Обкладинка"
                             style="width:100%;border-radius:8px;height:450px;object-fit:cover">
                    </a>
                    <h4 style="margin:8px 0 0 0;">
                        <a href="https://open.spotify.com/track/5KyYJkbF4I9u5vF5H92VQW?si=a9d66803ab4047c2" style="text-decoration:none; color:inherit;">
                            Лише ти
                        </a>
                    </h4>
                </div>

                <!-- Альбом 2 -->
                <div class="card">
                    <a href="https://open.spotify.com/track/6omEtZDL2qGszdAbjgLixm?si=ee1d419fbc3a4f82">
                        <img src="images/вихід є.jpg"
                             alt="Обкладинка"
                             style="width:100%;border-radius:8px;height:450px;object-fit:cover">
                    </a>
                    <h4 style="margin:8px 0 0 0;">
                        <a href="https://open.spotify.com/track/6omEtZDL2qGszdAbjgLixm?si=ee1d419fbc3a4f82" style="text-decoration:none; color:inherit;">
                            Вихід є
                        </a>
                    </h4>
                </div>

            </div>
        </div>
    </section>



    <!-- Контакти -->
    <section id="contacts" style="display:none" class="mt" aria-label="Контакти" action="https://formspree.io/f/xpwolopo" method="POST">
        <div class="card">
            <h2>Контакти</h2>
            <p class="small">Зв'язок з командою, питання для медіа чи замовлення — заповніть форму.</p>

            <form id="contactForm" class="mt" onsubmit="return false;">
                <div class="row">
                    <input type="text" id="name" name="name" placeholder="Ім'я" required>
                    <input type="email" id="email" name="email" placeholder="Email" required>
                </div>
                <div class="mt">
                    <input type="text" id="subject" name="subject" placeholder="Тема" required>
                </div>
                <div class="mt">
                    <textarea id="message" name="message" placeholder="Повідомлення" required></textarea>
                </div>
                <div class="mt" style="display:flex;gap:8px;align-items:center">
                    <button id="sendMsg" class="btn">Надіслати</button>
                    <div class="small" id="contactNote">Ми відповімо протягом 3 робочих днів</div>
                </div>
            </form>
        </div>
    </section>

    <footer>
        <div class="wrap" style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
            <div>© <strong>Вихід там</strong> — усі права захищено</div>
        </div>
    </footer>
</main>

<script>
    /* ====== JS: навігація, плеєр, таймер, форма ====== */

    // ===== Навігація SPA-подібна =====
    const sections = ['home','bio','albums','contacts'];
    function show(route){
        sections.forEach(s => {
            const el = document.getElementById(s);
            if(!el) return;
            el.style.display = (s===route) ? '' : 'none';
        });
        // підсвічуємо меню
        document.querySelectorAll('.navlink').forEach(a=>{
            a.classList.toggle('active', a.dataset.route === route);
        });
        // скрол до верху
        window.scrollTo({top:0,behavior:'smooth'});
    }
    document.querySelectorAll('[data-route]').forEach(a=>{
        a.addEventListener('click', (e)=>{
            e.preventDefault();
            const r = a.dataset.route;
            if(r) show(r);
        });
    });
    // початково:
    show('home');

    const playlist = [
        {id:1,title:"Вихід є", src:"songs/Вихід є - Вихід Там.mp3", len:"4:00"},
        {id:2,title:"Лише ти", src:"songs/Лише ти - Вихід Там.mp3", len:"4:30"},
    ];

    // наповним список UI
    const playlistEl = document.getElementById('playlist');
    playlist.forEach(t=>{
        const li = document.createElement('li');
        li.dataset.id = t.id;
        li.innerHTML = `
        <div>
            <strong>${t.title}</strong>
            <div class="small" id="timer-${t.id}">${t.len}</div>
        </div>
        <div class="small icon" id="icon-${t.id}">▶</div>
    `;
        li.addEventListener('click', ()=> playById(t.id));
        playlistEl.appendChild(li);
    });

    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('playBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const trackInfo = document.getElementById('trackInfo');

    let currentIdx = null; // index in playlist array
    let timerInterval = null;

    // форматування часу (00:00)
    function formatTime(sec){
        const m = Math.floor(sec / 60);
        const s = Math.floor(sec % 60);
        return `${m}:${s.toString().padStart(2,'0')}`;
    }

    // оновлення UI
    function setActiveUI(isPlaying = true){
        document.querySelectorAll('#playlist li').forEach(li=>{
            const id = Number(li.dataset.id);
            const icon = li.querySelector('.icon');
            icon.textContent = '▶'; // сброс всіх іконок

            if(currentIdx != null && id === playlist[currentIdx].id){
                li.classList.add('current');
                icon.textContent = isPlaying ? '⏸' : '▶';
            } else {
                li.classList.remove('current');
            }
        });
    }

    // основне відтворення
    function playById(id){
        const idx = playlist.findIndex(p=>p.id===id);
        if(idx === -1) return;

        // якщо той самий трек — просто toggle play/pause
        if(currentIdx === idx && !audio.paused){
            audio.pause();
            playBtn.textContent = 'Відтворити';
            setActiveUI(false);
            return;
        }

        currentIdx = idx;
        audio.src = playlist[currentIdx].src;
        audio.play().catch(()=>{});
        playBtn.textContent = 'Пауза';
        trackInfo.textContent = playlist[currentIdx].title;
        setActiveUI(true);
    }

    // кнопки управління
    playBtn.addEventListener('click', ()=>{
        if(currentIdx === null){
            playById(playlist[0].id);
            return;
        }
        if(audio.paused){
            audio.play();
            playBtn.textContent = 'Пауза';
            setActiveUI(true);
        } else {
            audio.pause();
            playBtn.textContent = 'Відтворити';
            setActiveUI(false);
        }
    });

    prevBtn.addEventListener('click', ()=>{
        if(currentIdx == null) return;
        currentIdx = Math.max(0, currentIdx-1);
        playById(playlist[currentIdx].id);
    });

    nextBtn.addEventListener('click', ()=>{
        if(currentIdx == null) { playById(playlist[0].id); return; }
        currentIdx = Math.min(playlist.length-1, currentIdx+1);
        playById(playlist[currentIdx].id);
    });

    // оновлення таймера
    audio.addEventListener('timeupdate', ()=>{
        if(currentIdx == null) return;
        const id = playlist[currentIdx].id;
        const timerEl = document.getElementById(`timer-${id}`);
        if(timerEl) timerEl.textContent = formatTime(audio.currentTime);
    });

    // коли трек закінчився
    audio.onended = ()=>{
        if(currentIdx == null) return;
        if(currentIdx < playlist.length - 1){
            currentIdx++;
            playById(playlist[currentIdx].id);
        } else {
            playBtn.textContent = 'Відтворити';
            setActiveUI(false);
            currentIdx = null;
            audio.src = '';
            trackInfo.textContent = 'Немає треку';
        }
    };

    // при паузі
    audio.addEventListener('pause', ()=>{
        setActiveUI(false);
    });
    audio.addEventListener('play', ()=>{
        setActiveUI(true);
    });


    const nextConcert = {
        date: new Date('2026-05-15T19:30:00'),
        city: 'Кременчук',
        place: 'Рокер Паб',
    };

    const countdownEl = document.getElementById('countdown');
    const nextConcertInfo = document.getElementById('nextConcertInfo');
    const nextCity = document.getElementById('nextCity');

    function updateCountdown(){
        const now = new Date();
        let diff = Math.floor((nextConcert.date - now) / 1000);
        if(diff <= 0){
            countdownEl.textContent = 'Концерт відбувається або вже відбувся';
            return;
        }
        const days = Math.floor(diff / 86400); diff %= 86400;
        const hours = Math.floor(diff / 3600); diff %= 3600;
        const mins = Math.floor(diff / 60);
        countdownEl.textContent = `${days}д ${hours}г ${mins}хв`;
        nextConcertInfo.textContent = `${nextConcert.place} — ${nextConcert.date.toLocaleString()}`;
        nextCity.textContent = nextConcert.city;
    }
    updateCountdown();
    setInterval(updateCountdown, 60*1000);



    const contactForm = document.getElementById('contactForm');
    contactForm.addEventListener('submit', (e)=>{
        e.preventDefault();
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const subject = document.getElementById('subject').value.trim();
        const message = document.getElementById('message').value.trim();
        if(!name||!email||!message) {
            alert('Заповніть, будь ласка, основні поля.');
            return;
        }
        alert(`Дякуємо, ${name}! Повідомлення прийнято.`);
        contactForm.reset();
    });


    document.getElementById('listenBtn').addEventListener('click', (e)=>{
        e.preventDefault();
        show('albums');
          setTimeout(()=>document.querySelector('#albums').scrollIntoView({behavior:'smooth'}), 200);
    });

</script>
</body>
</html>


